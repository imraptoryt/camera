<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SurveilApp — Caméras (Neon UI) — Simple</title>
  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, Arial; background:radial-gradient(ellipse at 10% 10%, #071428 0%, #02040b 50%);color:#e6f0ff;padding:20px}
    .app{max-width:1200px;margin:0 auto}
    header{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
    h1{font-size:20px;color:#9ef3ff}
    .sub{font-size:13px;opacity:0.8}

    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:14px}
    .camera{border-radius:12px;overflow:hidden;min-height:130px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.04);cursor:pointer;display:flex;flex-direction:column}
    .camera .meta{display:flex;justify-content:space-between;align-items:center;padding:10px 12px;font-size:13px}
    .frame{flex:1;display:flex;align-items:center;justify-content:center;background:#000}
    .frame img{width:100%;height:100%;object-fit:cover;display:block}
    .offline .overlay{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg, rgba(5,9,12,0.7), rgba(0,0,0,0.6));color:#ffccd5;font-weight:700}

    .dot{width:10px;height:10px;border-radius:50%}
    .dot.online{background:#00ffc2;box-shadow:0 0 8px rgba(0,255,194,0.35)}
    .dot.offline{background:#ff4d88;box-shadow:0 0 8px rgba(255,77,136,0.22)}

    .modal{position:fixed;inset:0;background:rgba(0,0,0,0.85);display:none;align-items:center;justify-content:center;padding:24px;z-index:60}
    .modal.open{display:flex}
    .modal .box{width:100%;max-width:1100px;border-radius:12px;overflow:hidden;background:#000;padding:12px}
    .modal img{width:100%;height:80vh;object-fit:contain;display:block}

    footer{margin-top:12px;opacity:0.75;font-size:13px}
    @media (max-width:640px){.grid{grid-template-columns:repeat(2,1fr)}}
  </style>
</head>
<body>
  <div class="app">
    <header>
      <div>
        <h1>Polaris-7 - Caméras</h1>
        <div class="sub">Cliquez sur une caméra pour l'afficher en grand.</div>
      </div>
    </header>

    <main>
      <div class="grid" id="grid">
        <!-- Les caméras sont générées par JS. Modifie la liste `imgs` pour changer les sources. -->
      </div>
    </main>

    <div class="modal" id="modal" aria-hidden="true">
      <div class="box">
        <img id="modalImg" src="" alt="Vue caméra" />
      </div>
  
  </div>

  <script>
    const CAMERA_COUNT = 20;

    // Liste d'exemples — remplace ces URLs par tes images Imgur (ou laisse certaines vides pour simuler offline)
    const imgs = [
      'https://i.goopics.net/rhrlj4.jpg',
      'https://i.goopics.net/k1u3yt.jpg',
      'https://i.goopics.net/lhjw4s.jpg',
      '',
      'https://i.goopics.net/i3ux5y.jpg',
      'https://i.goopics.net/d9b9yq.jpg',
      '',
      'https://i.goopics.net/2yv2qp.jpg',
      'https://i.goopics.net/2pek6i.jpg',
      '',
      'https://i.goopics.net/hjawhp.jpg',
      'https://i.goopics.net/r48uts.jpg',
      '',
      'https://i.goopics.net/qxvvak.jpg',
      'https://i.goopics.net/ujhhf1.jpg',
      '',
      'https://i.goopics.net/s3w9rl.jpg',
      '',
      'https://i.goopics.net/x49ok3.jpg',
      ''
    ];

    const grid = document.getElementById('grid');
    const modal = document.getElementById('modal');
    const modalImg = document.getElementById('modalImg');

    function createCamera(i, src){
      const cam = document.createElement('div');
      cam.className = 'camera';

      const meta = document.createElement('div');
      meta.className = 'meta';
      meta.innerHTML = `<div>Cam ${i+1}</div><div class="dot"></div>`;

      const frame = document.createElement('div');
      frame.className = 'frame';
      frame.style.position = 'relative';

      const img = document.createElement('img');
      img.alt = `Cam ${i+1}`;
      img.style.display = 'block';

      const overlay = document.createElement('div');
      overlay.className = 'overlay';
      overlay.style.display = 'none';
      overlay.textContent = 'OFFLINE';

      frame.appendChild(img);
      frame.appendChild(overlay);

      cam.appendChild(meta);
      cam.appendChild(frame);

      const dot = meta.querySelector('.dot');

      if(!src){
        // offline
        img.src = '';
        overlay.style.display = 'flex';
        cam.classList.add('offline');
        dot.classList.add('offline');
      } else {
        img.src = src;
        img.addEventListener('load', () => {
          overlay.style.display = 'none';
          dot.classList.add('online');
        });
        img.addEventListener('error', () => {
          img.src = '';
          overlay.style.display = 'flex';
          dot.classList.add('offline');
        });
      }

      // click to open modal if online
      cam.addEventListener('click', () => {
        if(img.src){
          modalImg.src = img.src;
          modal.classList.add('open');
          modal.setAttribute('aria-hidden', 'false');
        } else {
          // tiny visual feedback for offline
          cam.animate([{transform:'translateY(0)'},{transform:'translateY(-6px)'},{transform:'translateY(0)'}],{duration:220});
        }
      });

      return cam;
    }

    function render(){
      grid.innerHTML = '';
      for(let i=0;i<CAMERA_COUNT;i++){
        const src = imgs[i] || '';
        grid.appendChild(createCamera(i, src));
      }
    }

    // close modal
    modal.addEventListener('click', (e)=>{ if(e.target === modal) { modal.classList.remove('open'); modal.setAttribute('aria-hidden','true'); modalImg.src = ''; } });

    render();
  </script>
</body>
</html>
